---
layout: post
title: Using Gii (Part 1)
date: '2012-08-10T08:47:00.000+03:00'
author: Fred Muya
tags:
- Yii Framework
modified_time: '2012-08-23T08:04:21.160+03:00'
blogger_id: tag:blogger.com,1999:blog-3630098189866392828.post-1030878973171655846
blogger_orig_url: http://encore254.blogspot.com/2012/08/using-gii-part-1.html
---

<b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">In this section, we are going to use the tool that comes with Yii to enable us to generate Models, Views and Controllers for our project. You can learn more about MVC frameworks <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" rel="nofollow" style="color: orange;" target="_blank">here</a>. </span><br /><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Gii is a GUI that is used to automatically generate our models, views and controllers without writing a single line of code. This simplifies our work a lot. In order to continue, we need to make a few configuration changes.</span></b><br /><b style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><br /></span></b><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Firstly, we need to set up our database connection. Yii allows us to configure this in one place for use throughout the application. Navigate to </span><span style="font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><span style="font-family: Courier New, Courier, monospace;">protected/config/main.php</span><span style="font-family: Trebuchet MS;"> under the project folder. This is the main configuration file for the application. It’s simply a </span>PHP<span style="font-family: Trebuchet MS;"> file that returns an array of configuration options. The main ones include: </span></span></b><br /><ul style="margin-bottom: 0pt; margin-top: 0pt;"><li style="font-family: 'Trebuchet MS'; font-size: 15px; list-style-type: disc; vertical-align: baseline;"><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="vertical-align: baseline; white-space: pre-wrap;">basePath</span></b></li><li style="font-family: 'Trebuchet MS'; font-size: 15px; list-style-type: disc; vertical-align: baseline;"><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="vertical-align: baseline; white-space: pre-wrap;">name</span></b></li><li style="font-family: 'Trebuchet MS'; font-size: 15px; list-style-type: disc; vertical-align: baseline;"><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="vertical-align: baseline; white-space: pre-wrap;">preload</span></b></li><li style="font-family: 'Trebuchet MS'; font-size: 15px; list-style-type: disc; vertical-align: baseline;"><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="vertical-align: baseline; white-space: pre-wrap;">import</span></b></li><li style="font-family: 'Trebuchet MS'; font-size: 15px; list-style-type: disc; vertical-align: baseline;"><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="vertical-align: baseline; white-space: pre-wrap;">modules</span></b></li><li style="font-family: 'Trebuchet MS'; font-size: 15px; list-style-type: disc; vertical-align: baseline;"><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="vertical-align: baseline; white-space: pre-wrap;">components</span></b></li><li style="font-family: 'Trebuchet MS'; font-size: 15px; list-style-type: disc; vertical-align: baseline;"><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="vertical-align: baseline; white-space: pre-wrap;">params</span></b></li></ul><div><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: Trebuchet MS;"><span style="font-size: 15px; white-space: pre-wrap;"><br /></span></span></b></div><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Some of the configurations have arrays and arrays of arrays within them. The purpose of most of these will become evident as we continue building our project. For this step, we’ll deal with the modules and component properties. </span></b><br /><b style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><br /></span></b><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Gii is one of the modules. To enable it, simply uncomment the code that represents the array defining it, so that it looks like:</span></b><br /><pre>gii'=&gt;array(<br /> 'class'=&gt;'system.gii.GiiModule',<br /> 'password'=&gt;'<span style="background-color: #783f04;">Enter your password here</span>',<br /> // If removed, Gii defaults to localhost only. Edit carefully to taste.<br /> 'ipFilters'=&gt;array('127.0.0.1','::1'),<br />),</pre><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">‘class’ defines the class that loads the Gii module. ‘password’ defines the password you will use to access the gii module. ‘ipFilters’ defines an array of IP addresses that are allowed to access the Gii module. This is important for security reasons: since Gii is an essential system tool that can be used to create data manipulating functions, it is important to limit it’s access to development servers only. </span><br /><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Change the 'password' property to something that you’ll easily remember but hard for others to guess.</span></b><br /><b style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><br /></span></b><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Basically, the component property holds configurations for application components, especially those that are used frequently in the application. One of these is the db connection, defined by ‘db’ property.</span><br /><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">By default, Yii defines an SQLite connection. If you use SQLite, you’re good to go. However, if you use MySQL, you will need to comment out the part that defines the SQLite connection, and uncomment the part that defines the MySQL connection. It looks something like:</span></b><br /><br /><pre>'db'=&gt;array(<br /> 'connectionString' =&gt; 'mysql:host=localhost;dbname=<span style="background-color: #b45f06;">studentportal</span>',<br /> 'emulatePrepare' =&gt; true,<br /> 'username' =&gt; '<span style="background-color: #b45f06;">root</span>',<br /> 'password' =&gt; '<span style="background-color: #b45f06;">password</span>',<br /> 'charset' =&gt; 'utf8',<br />),<br /></pre><br /><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">Simply update the highlighted (above) parts with your own configurations.</span><br /><span style="font-family: 'Trebuchet MS'; font-size: 15px; font-weight: bold; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;">Note</span><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">: </span><span style="font-family: 'Trebuchet MS'; font-size: 15px; font-style: italic; vertical-align: baseline; white-space: pre-wrap;">It is advisable to create users in MySQL for specific databases to prevent access to all databases by one user. For instructions on how to create users in MySQL and grant them permissions on databases and tables, you can check </span><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><a href="http://encore254.blogspot.com/2012/08/create-users-and-grants-in-mysql.html" style="color: orange;" target="_blank">this</a></span><span style="font-family: 'Trebuchet MS'; font-size: 15px; font-style: italic; vertical-align: baseline; white-space: pre-wrap;"> out.</span></b><br /><b style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; font-style: italic; vertical-align: baseline; white-space: pre-wrap;"><br /></span></b><b id="internal-source-marker_0.7238973148632795" style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">With Gii enabled and the database set up, we are ready to proceed. Go to </span><span style="font-family: 'Courier New'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">http://{YOUR_HOST_NAME}/StudentPortal/index.php/gii</span><br /><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"></span><br /><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;">In the form displayed, enter the password you set up in the config/main.php file. On successful login, the page displayed welcomes you to Yii Code Generator...you are good to go...</span></b><br /><b style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><br /></span></b><span style="font-family: Trebuchet MS;"><span style="font-size: 15px; white-space: pre-wrap;">In the next section, we will be <a href="http://encore254.blogspot.com/2012/08/using-gii-part-2.html" style="color: orange;" target="_blank">using Gii to create the models, views and controllers</a>.</span></span><br /><b style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; vertical-align: baseline; white-space: pre-wrap;"><br /></span></b><b style="font-weight: normal;"><span style="font-family: 'Trebuchet MS'; font-size: 15px; font-style: italic; vertical-align: baseline; white-space: pre-wrap;"><br /></span></b>